(()=>{let t;t=localStorage.getItem("categoryCollection")?JSON.parse(localStorage.getItem("categoryCollection")):[],localStorage.setItem("categoryCollection",JSON.stringify(t)),JSON.parse(localStorage.getItem("categoryCollection"));const e=(()=>{class e{constructor(t,e){this.id=t,this.tasks=e,this.active=!1}}function a(){const t=document.getElementById("addCategoryButton");let e=Array.from(document.getElementsByClassName("newCategory")),i=Array.from(document.getElementsByClassName("deleteCategoryIcon"));e.forEach((t=>{t.addEventListener("click",o),t.addEventListener("click",c)})),i.forEach((t=>{t.addEventListener("click",s)})),t.addEventListener("click",n)}function n(){let i=prompt("Write the name of your category");if(""===i)alert("Please Enter a Value");else if(i){let n=new e(i,[]);t.push(n),r(),a(),localStorage.setItem("categoryCollection",JSON.stringify(t))}l()}function o(e){topRightContainer.textContent="";let i=e.target.id,a=document.createElement("h1");a.textContent=t[i].id,a.setAttribute("id","categoryHeading"),topRightContainer.appendChild(a)}function r(){let e=0;bottomLeftCategoryContainer.textContent="",t.forEach((t=>{let i=document.createElement("p");i.classList.add("newCategory"),i.textContent=t.id,bottomLeftCategoryContainer.appendChild(i),i.setAttribute("id",""+e),i.setAttribute("data-index",""+e);let a=document.createElement("i");a.setAttribute("class","fa fa-trash deleteCategoryIcon"),a.setAttribute("data-index",""+e),i.appendChild(a),e++})),e=0,a()}function c(e){let a=Array.from(document.getElementsByClassName("newCategory"));a.forEach((t=>{t.classList.remove("activeCategory")}));let n=e.target.id;a[n].classList.add("activeCategory"),l(),t[n].active=!0,localStorage.setItem("categoryCollection",JSON.stringify(t)),i.renderTasks()}function l(){t.forEach((t=>{t.active=!1}))}function s(e){if(1==confirm("Delete Category?")){document.querySelectorAll(".tasksDisplay").forEach((t=>t.remove()));const i=e.target.dataset.index;t.splice(i,1),localStorage.setItem("categoryCollection",JSON.stringify(t)),r()}}return a(),r(),{identifyActiveCategory:function(){return t.find((t=>!0===t.active))}}})(),i=(()=>{const i=document.getElementById("addTaskButton"),a=document.getElementById("submitButton"),n=document.getElementById("cancelButton"),o=document.querySelector(".inputTable"),r=document.getElementById("inputTableContainer");class c{constructor(t,e,i,a,n){this.id=t,this.dueDate=e,this.priority=i,this.checklist=!1,this.notes=n}}function l(){i.addEventListener("click",s),a.addEventListener("click",d),Array.from(document.getElementsByClassName("deleteTaskIcon")).forEach((t=>{t.addEventListener("click",m)})),n.addEventListener("click",(()=>{o.classList.remove("inputTableActive"),o.classList.add("inputTable"),r.setAttribute("id","inputTableContainer")}))}function s(t){const i=document.getElementById("taskInputField").value;if(t.preventDefault(),void 0===e.identifyActiveCategory())alert("Please Select a Category");else if(""===i)alert("Please Enter a Value");else if(i){let t=document.getElementById("taskTitleForm");o.classList.remove("inputTable"),o.classList.add("inputTableActive"),r.setAttribute("id","inputTableContainerActive"),t.textContent="Details For "+i}}function d(){let i,a=document.getElementById("taskInputField").value,n=document.getElementById("dueDate").value;document.getElementById("highPriority").checked?i="High":document.getElementById("mediumPriority").checked?i="Medium":document.getElementById("lowPriority").checked&&(i="Low");let l=document.getElementById("notes").value;var s;s=new c(a,n,i,!1,l),e.identifyActiveCategory().tasks.push(s),o.classList.remove("inputTableActive"),r.setAttribute("id","inputTableContainer"),localStorage.setItem("categoryCollection",JSON.stringify(t)),u()}function u(){let e=0;document.querySelectorAll(".tasksDisplay").forEach((t=>t.remove())),t.find((t=>!0===t.active)).tasks.forEach((t=>{let i=document.createElement("p");i.setAttribute("class","tasksDisplay"),i.textContent=`Task Name: ${t.id} Due: ${t.dueDate} Notes: ${t.notes}`,bottomRightContainer.appendChild(i),console.log(""+t.priority);let a=document.createElement("div");"High"==t.priority?a.classList.add("highPriorityIndicator"):"Medium"==t.priority?a.classList.add("mediumPriorityIndicator"):"Low"==t.priority&&a.classList.add("lowPriorityIndicator"),i.appendChild(a);let n=document.createElement("i");n.setAttribute("class","fa fa-trash deleteTaskIcon"),n.setAttribute("data-index",""+e),i.appendChild(n),e++})),e=0,l()}function m(e){if(1==confirm("Delete Task?")){const i=t.find((t=>!0===t.active)),a=e.target.dataset.index;i.tasks.splice(a,1),localStorage.setItem("categoryCollection",JSON.stringify(t)),u()}}return l(),u(),{renderTasks:u}})()})();