(()=>{!function(){this.addCategoryButton=document.getElementById("addCategoryButton"),this.addTaskButton=document.getElementById("addTaskButton"),this.submitButton=document.getElementById("submitButton"),this.cancelInputButton=document.getElementById("cancelButton"),this.inputTable=document.querySelector(".inputTable"),this.inputTableContainer=document.getElementById("inputTableContainer")}();let t=[];class e{constructor(t,e){this.id=t,this.tasks=e,this.active=!1}}class n{constructor(t,e,n,i,a){this.id=t,this.dueDate=e,this.priority=n,this.checklist=!1,this.notes=a}}addCategoryButton.addEventListener("click",(()=>{let n=prompt("Name of your category");if(""===n)alert("Please Enter a Value");else if(n){let i=new e(n,[]);t.push(i),o(),a()}}));const i=e=>{topRightContainer.textContent="";let n=e.target.id,i=document.createElement("h1");i.textContent=t[n].id,i.setAttribute("id","categoryHeading"),topRightContainer.appendChild(i)},a=()=>{let t=Array.from(document.getElementsByClassName("newCategory")),e=Array.from(document.getElementsByClassName("deleteCategoryButton")),n=Array.from(document.getElementsByClassName("deleteTaskButton"));t.forEach((t=>{t.addEventListener("click",i),t.addEventListener("click",d)})),e.forEach((t=>{t.addEventListener("click",l)})),n.forEach((t=>{t.addEventListener("click",r)}))};function o(){let e=0;bottomLeftCategoryContainer.textContent="",t.forEach((t=>{let n=document.createElement("p");n.classList.add("newCategory"),n.textContent=t.id,bottomLeftCategoryContainer.appendChild(n),n.setAttribute("id",""+e),n.setAttribute("data-index",""+e);let i=document.createElement("div");i.classList.add("deleteCategoryButton"),i.setAttribute("data-index",""+e),n.appendChild(i),e++})),e=0,a()}const d=e=>{let n=Array.from(document.getElementsByClassName("newCategory"));n.forEach((t=>{t.classList.remove("activeCategory")}));let i=e.target.id;n[i].classList.add("activeCategory"),t.forEach((t=>{t.active=!1})),t[i].active=!0,s()};addTaskButton.addEventListener("click",(t=>{const e=document.getElementById("taskInputField").value;if(t.preventDefault(),""===e)alert("Please Enter a Value");else if(e){let t=document.getElementById("taskTitleForm");inputTable.classList.remove("inputTable"),inputTable.classList.add("inputTableActive"),inputTableContainer.setAttribute("id","inputTableContainerActive"),t.textContent="Details For "+e}})),submitButton.addEventListener("click",(()=>{let e,i=document.getElementById("taskInputField").value,a=document.getElementById("dueDate").value;document.getElementById("highPriority").checked?e="High":document.getElementById("mediumPriority").checked?e="Medium":document.getElementById("lowPriority").checked&&(e="Low");let o=document.getElementById("notes").value,d=new n(i,a,e,!1,o);t.find((t=>!0===t.active)).tasks.push(d),inputTable.classList.remove("inputTableActive"),inputTableContainer.setAttribute("id","inputTableContainer"),s()}));const s=()=>{let e=0;document.querySelectorAll(".tasksDisplay").forEach((t=>t.remove())),t.find((t=>!0===t.active)).tasks.forEach((t=>{let n=document.createElement("p");n.setAttribute("class","tasksDisplay"),n.textContent=`${t.id} Due: ${t.dueDate} Notes: ${t.notes}`,bottomRightContainer.appendChild(n),console.log(""+t.priority);let i=document.createElement("div");"High"==t.priority?i.classList.add("highPriorityIndicator"):"Medium"==t.priority?i.classList.add("mediumPriorityIndicator"):"Low"==t.priority&&i.classList.add("lowPriorityIndicator"),n.appendChild(i);let a=document.createElement("div");a.setAttribute("class","deleteTaskButton"),a.setAttribute("data-index",""+e),n.appendChild(a),e++})),e=0,a()},l=e=>{if(1==confirm("Delete Category?")){console.log("delete button clicked"),document.querySelectorAll(".tasksDisplay").forEach((t=>t.remove()));const n=e.target.dataset.index;console.log(n),t.splice(n,1),o()}},r=e=>{if(1==confirm("Delete Task?")){const n=t.find((t=>!0===t.active)),i=e.target.dataset.index;n.tasks.splice(i,1),s()}};cancelInputButton.addEventListener("click",(()=>{inputTable.classList.remove("inputTableActive"),inputTable.classList.add("inputTable"),inputTableContainer.setAttribute("id","inputTableContainer")}))})();